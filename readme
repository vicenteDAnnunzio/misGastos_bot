üí∏ Bot de Gastos Personales (Discord + Google Sheets)

Un sistema minimalista y 100% gratuito para registrar gastos personales directamente desde Discord a Google Sheets, hosteado 24/7 en la nube.

üü¢ ¬øQu√© hace este proyecto?

Este bot permite registrar gastos r√°pidamente sin abrir Excel ni aplicaciones complejas. Simplemente env√≠as un comando por Discord y el dato aparece m√°gicamente en tu hoja de c√°lculo.
Flujo de Datos:
Discord ‚û° Bot (Node.js en Render) ‚û° Google Apps Script ‚û° Google Sheets
üõ† Tech Stack & Arquitectura
Este proyecto fue dise√±ado para ser gratis de por vida y no depender de una PC encendida.
Lenguaje: Node.js (Discord.js v14).
Hosting: Render.com (Web Service gratuito).
Base de Datos: Google Sheets.
Conexi√≥n: Google Apps Script (recibe el POST y escribe en la hoja).
Keep-Alive: Cron-job.org (mantiene el bot despierto cada 10 min).

üöÄ Comandos Disponibles
/gasto
Registra un nuevo movimiento en la hoja de c√°lculo.
Par√°metro
Descripci√≥n
Ejemplo
categoria
Tipo de gasto (Comida, Transporte, etc.)
Supermercado
descripcion
Detalle corto del gasto
Compra semanal
monto

Valor num√©rico del gasto

15000

metodo

Forma de pago

MercadoPago

Ejemplo de uso:
/gasto categoria:Salidas descripcion:Cena con amigos monto:4500 metodo:Debito

‚öôÔ∏è Configuraci√≥n del Entorno (.env)

Para que el bot funcione, requiere las siguientes variables de entorno (configuradas en Render):

TOKEN=      # Token del bot de Discord
CLIENT_ID=  # ID de la aplicaci√≥n de Discord
GUILD_ID=   # ID del servidor donde funciona el bot
# Nota: La URL del Webhook de Apps Script est√° hardcodeada en index.js




‚òÅÔ∏è Despliegue y Mantenimiento

1. Hosting en Render
El bot corre como un Web Service en Render.
Build Command: npm install
Start Command: node index.js
Se usa un servidor express dummy en el puerto 3000 para que Render detecte el servicio como activo.


2. Evitar la suspensi√≥n (Sleep Mode)
Render suspende los servicios gratuitos tras 15 mins de inactividad.
Soluci√≥n: Un cronjob externo (Cron-job.org) hace una petici√≥n GET a la URL del bot (https://tu-bot.onrender.com) cada 10 minutos.


3. Google Apps Script
El script recibe un doPost(e), parsea el JSON y a√±ade una fila a la hoja Gastos_2025.
Importante: Si se modifica el Apps Script, se debe crear una Nueva Implementaci√≥n para actualizar la URL del Webhook.
üìù C√≥mo actualizar el bot
Hacer cambios en el c√≥digo local (VS Code).

git add .

git commit -m "Mejoras..."

git push

Render detectar√° el push y desplegar√° la nueva versi√≥n autom√°ticamente.

Hecho con ‚òï y ganas de no pagar hosting.